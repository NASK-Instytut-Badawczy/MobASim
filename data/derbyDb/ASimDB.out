wersja ij 10.3
CONNECTION0* - 	jdbc:derby:ASimDB
* = bie¿¹ce po³¹czenie
ij> CREATE TABLE SIMULATION
(
SIMULATION_ID INT NOT NULL GENERATED ALWAYS AS IDENTITY,
SIMULATOR_NAME VARCHAR(256) NOT NULL,
SIMULATOR_DESCRIPTION VARCHAR(4000),
SIMULATOR_ADDRESS VARCHAR(256),
ENTRY_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE CO_SIMULATOR
(
SIMULATOR_NAME VARCHAR(256) NOT NULL,
SIMULATION_ID INT NOT NULL,
SIMULATOR_ADDRESS VARCHAR(256)
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE DOMAIN
(
DOMAIN_NAME VARCHAR(4000) NOT NULL,
SIMULATION_ID INT NOT NULL,
FATHER_NAME VARCHAR(4000)
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE PARAMETER
(
PARAMETER_ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
SIMULATION_ID INT NOT NULL,
LP_NAME VARCHAR(4000) NOT NULL,
PARAMETER_NAME VARCHAR(256) NOT NULL,
PARAMETER_VALUE VARCHAR(4000),
VIRTUAL_TIME TIMESTAMP
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE CONSTANT
(
CONSTANT_NAME VARCHAR(256) NOT NULL,
CONSTANT_VALUE VARCHAR(4000),
SIMULATION_ID INT NOT NULL,
DOMAIN_NAME VARCHAR(4000) NOT NULL
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE PORT
(
PORT_NAME VARCHAR(4000) NOT NULL,
FATHER_NAME VARCHAR(4000) NOT NULL,
SIMULATION_ID INT NOT NULL
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE LINK
(
START_PORT_NAME VARCHAR(4000) NOT NULL,
SIMULATION_ID INT NOT NULL,
END_PORT_NAME VARCHAR(4000) NOT NULL
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE SERVED_MESSAGE
(
MESSAGE_ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
SIMULATION_ID INT NOT NULL,
LP_NAME VARCHAR(4000) NOT NULL,
MESSAGE_TYPE VARCHAR(4000) NOT NULL
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE SEND_MESSAGE
(
MESSAGE_ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
SIMULATION_ID INT NOT NULL,
PORT_NAME VARCHAR(4000) NOT NULL,
TYPE VARCHAR(256) NOT NULL,
PRIORITY INT DEFAULT 1,
CLASS VARCHAR(256),
TIME TIMESTAMP NOT NULL,
LENGHT INTEGER DEFAULT 1,
PHASE INT DEFAULT 1 NOT NULL
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE LOGICAL_PROCESS
(
LP_NAME VARCHAR(4000) NOT NULL,
SIMULATION_ID INT NOT NULL
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE MSG_PARAM
(
SIMULATION_ID INT NOT NULL,
MESSAGE_ID INT NOT NULL,
PARAM_NAME VARCHAR(256) NOT NULL,
PARAM_VALUE VARCHAR(4000)
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE LOGGER
(
SIMULATION_ID INT NOT NULL,
INFO_ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
FATHER_NAME VARCHAR(4000) NOT NULL,
TYPE VARCHAR(4) DEFAULT 'INFO',
VALUE VARCHAR(4000),
TIME TIMESTAMP NOT NULL
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE SIMULATION
ADD CONSTRAINT SIMULATION_PK PRIMARY KEY
(
SIMULATION_ID
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE CO_SIMULATOR
ADD CONSTRAINT CO_SIMULATOR_PK PRIMARY KEY
(
SIMULATOR_NAME,
SIMULATION_ID
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE DOMAIN
ADD CONSTRAINT DOMAIN_PK PRIMARY KEY
(
DOMAIN_NAME,
SIMULATION_ID
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE PARAMETER
ADD CONSTRAINT PARAMETER_PK PRIMARY KEY
(
PARAMETER_ID,
SIMULATION_ID
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE CONSTANT
ADD CONSTRAINT CONSTANT_PK PRIMARY KEY
(
CONSTANT_NAME,
SIMULATION_ID,
DOMAIN_NAME
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE PORT
ADD CONSTRAINT PORT_PK PRIMARY KEY
(
PORT_NAME,
SIMULATION_ID
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE LINK
ADD CONSTRAINT LINK_PK PRIMARY KEY
(
START_PORT_NAME,
END_PORT_NAME
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE LINK
ADD CONSTRAINT LINK_UK1 UNIQUE
(
START_PORT_NAME,
SIMULATION_ID
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE SERVED_MESSAGE
ADD CONSTRAINT SERVED_MESSAGE_PK PRIMARY KEY
(
MESSAGE_ID,
SIMULATION_ID
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE SEND_MESSAGE
ADD CONSTRAINT SEND_MESSAGE_PK PRIMARY KEY
(
MESSAGE_ID,
SIMULATION_ID
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE LOGICAL_PROCESS
ADD CONSTRAINT LOGICAL_PROCESS_PK PRIMARY KEY
(
LP_NAME,
SIMULATION_ID
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE MSG_PARAM
ADD CONSTRAINT MSG_PARAM_PK PRIMARY KEY
(
SIMULATION_ID,
MESSAGE_ID,
PARAM_NAME
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE LOGGER
ADD CONSTRAINT LOGGER_PK PRIMARY KEY
(
SIMULATION_ID,
INFO_ID
)
 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE CO_SIMULATOR
ADD CONSTRAINT CO_SIMULATOR_SIMULATION_FK1 FOREIGN KEY
(
SIMULATION_ID
)
REFERENCES SIMULATION
(
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE DOMAIN
ADD CONSTRAINT DOMAIN_SIMULATION_FK1 FOREIGN KEY
(
SIMULATION_ID
)
REFERENCES SIMULATION
(
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE DOMAIN
ADD CONSTRAINT DOMAIN_DOMAIN_FK1 FOREIGN KEY
(
FATHER_NAME,
SIMULATION_ID
)
REFERENCES DOMAIN
(
DOMAIN_NAME,
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE PARAMETER
ADD CONSTRAINT PARAMETER_LOGICAL_PROCESS_FK1 FOREIGN KEY
(
LP_NAME,
SIMULATION_ID
)
REFERENCES LOGICAL_PROCESS
(
LP_NAME,
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE CONSTANT
ADD CONSTRAINT CONSTANT_DOMAIN_FK1 FOREIGN KEY
(
DOMAIN_NAME,
SIMULATION_ID
)
REFERENCES DOMAIN
(
DOMAIN_NAME,
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE PORT
ADD CONSTRAINT PORT_DOMAIN_FK1 FOREIGN KEY
(
FATHER_NAME,
SIMULATION_ID
)
REFERENCES DOMAIN
(
DOMAIN_NAME,
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE PORT
ADD CONSTRAINT PORT_LOGICAL_PROCESS_FK1 FOREIGN KEY
(
FATHER_NAME,
SIMULATION_ID
)
REFERENCES LOGICAL_PROCESS
(
LP_NAME,
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE LINK
ADD CONSTRAINT LINK_PORT_FK1 FOREIGN KEY
(
START_PORT_NAME,
SIMULATION_ID
)
REFERENCES PORT
(
PORT_NAME,
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE LINK
ADD CONSTRAINT LINK_PORT_FK2 FOREIGN KEY
(
END_PORT_NAME,
SIMULATION_ID
)
REFERENCES PORT
(
PORT_NAME,
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE SERVED_MESSAGE
ADD CONSTRAINT SERVED_MESSAGE_LOGICAL_PR_FK1 FOREIGN KEY
(
LP_NAME,
SIMULATION_ID
)
REFERENCES LOGICAL_PROCESS
(
LP_NAME,
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE SEND_MESSAGE
ADD CONSTRAINT SEND_MESSAGE_PORT_FK1 FOREIGN KEY
(
PORT_NAME,
SIMULATION_ID
)
REFERENCES PORT
(
PORT_NAME,
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE LOGICAL_PROCESS
ADD CONSTRAINT LOGICAL_PROCESS_SIMULATIO_FK1 FOREIGN KEY
(
SIMULATION_ID
)
REFERENCES SIMULATION
(
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE MSG_PARAM
ADD CONSTRAINT MSG_PARAM_SEND_MESSAGE_FK1 FOREIGN KEY
(
MESSAGE_ID,
SIMULATION_ID
)
REFERENCES SEND_MESSAGE
(
MESSAGE_ID,
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE MSG_PARAM
ADD CONSTRAINT MSG_PARAM_SERVED_MESSAGE_FK1 FOREIGN KEY
(
MESSAGE_ID,
SIMULATION_ID
)
REFERENCES SERVED_MESSAGE
(
MESSAGE_ID,
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE LOGGER
ADD CONSTRAINT LOGGER_SIMULATION_FK1 FOREIGN KEY
(
SIMULATION_ID
)
REFERENCES SIMULATION
(
SIMULATION_ID
) 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE INDEX PARAMETER_INDEX1 ON PARAMETER (PARAMETER_ID ASC);
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE INDEX SERVED_MESSAGE_INDEX1 ON SERVED_MESSAGE (MESSAGE_ID);
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE INDEX SEND_MESSAGE_INDEX1 ON SEND_MESSAGE (MESSAGE_ID);
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> SET SCHEMA ASIM_MODELER;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE TABLE_ROW
(
  TAB INT NOT NULL,
  TABLE_ID INT NOT NULL,
  PARENT_ID INT NOT NULL,
  NAME VARCHAR(240) NOT NULL,
  VALUE VARCHAR(2046),
  DICTIONARY INT,
  CONSTRAINT TABLE_ROW_PK PRIMARY KEY
  (
    TABLE_ID,
    PARENT_ID,
    TAB,
    NAME
  )
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE TABLE GUI_ELEMENT
(
  ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
  NAME VARCHAR(240) NOT NULL,
  PARENT_ID INT,
  ROOT_ID INT,
  TYPE VARCHAR(20) NOT NULL,
  TREE_ORDER INT
, CONSTRAINT GUI_ELEMENT_PK PRIMARY KEY
  (
    ID
  )
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> CREATE INDEX GUI_ELEMENT_INDEX ON GUI_ELEMENT(ID);
0 wierszy wstawionych/zaktualizowanych/usuniêtych
OSTRZE¯ENIE 01504: Nowy indeks jest powtórzeniem istniej¹cego indeksu: SQL090625063627380.
ij> CREATE TABLE ATTRIBUTE
(
  PARENT_ID INT NOT NULL,
  TAB INT NOT NULL,
  ROW_ID INT NOT NULL,
  VALUE CLOB
, CONSTRAINT ATTRIBUTE_PK PRIMARY KEY
  (
    TAB,
    PARENT_ID,
	ROW_ID
  )
)
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE TABLE_ROW
ADD CONSTRAINT TABLE_ROW_GUI_ELEMENT_FK1 FOREIGN KEY
(
  PARENT_ID
)
REFERENCES GUI_ELEMENT
(
ID
)
ON DELETE CASCADE 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE GUI_ELEMENT
ADD CONSTRAINT GUI_ELEMENT_GUI_ELEMENT_FK1 FOREIGN KEY
(
  PARENT_ID
)
REFERENCES GUI_ELEMENT
(
ID
)
ON DELETE CASCADE 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE GUI_ELEMENT
ADD CONSTRAINT GUI_ELEMENT_GUI_ELEMENT_FK2 FOREIGN KEY
(
  ROOT_ID
)
REFERENCES GUI_ELEMENT
(
ID
)
ON DELETE CASCADE 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> ALTER TABLE ATTRIBUTE
ADD CONSTRAINT ATTRIBUTE_GUI_ELEMENT_FK1 FOREIGN KEY
(
  PARENT_ID
)
REFERENCES GUI_ELEMENT
(
ID
)
ON DELETE CASCADE 
;
0 wierszy wstawionych/zaktualizowanych/usuniêtych
ij> 